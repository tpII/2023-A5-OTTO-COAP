# 2023-A5-OTTO-COAP

## Acerca del proyecto
El proyecto Otto-Coap es un proyecto de investigacion y desarrollo el cual tiene como finalidad la utilizacion de un robot Otto, controlado a traves de una interfaz web, la cual pueda ser accedida desde un ordenador como de un dispositivo movil. El Robot Otto consta de 4 servo motores, un ultrasonido HCSRS04 y un microcontrolador NodeMCU v0.9 con integrado ESP8266. Para la realizacion de dichos objetivos se haran bajo los protocolos de comunicacion CoAP y MQTT, dicho esto, la implementacion de ambos protocolos se procede a la utilizacion del programa Mosquitto para MQTT y la creacion de un servidor CoAP en lenguaje python. La programacion del NodeMCU se codifica en lenguaje c++, el cual le permitira generar un cliente para ambos protocolos y conectarse de forma directa con ellos. La interfaz web se encuentra desarrollada en Angular y para lograr la comunicacion entre la interfaz y los servidores se crea un Websocket para lograr dicha comunicacion. Se encuentra disponible el desarrollo por semanas en la [Wiki](https://github.com/tpII/2023-A5-OTTO-COAP/wiki/Bitácora‐2023‐A5‐OTTO‐COAP).

## Instrucciones de uso
### Con Docker
Para la ejecucion con el programa docker, se debe instalar desde la pagina oficial el programa. Para hacer la comunicacion entre la interfaz y docker, debemos dirigirnos al archivo ENV.ts, que se encuentra en la carpeta ..\2023-A5-OTTO-COAP\Otto-CoAP-Angular\src y cambiar el valor de ipname por la ip que utiliza docker y luego, en el directorio raiz del proyecto, ejecutar el comando <kbd style="background-color: #333; color: #fff; padding: 4px 8px; border-radius: 4px;">docker-compose up</kbd> y para ejecutar la interfaz web, en la carpeta Otto-CoAP-Angular el comando<kbd style="background-color: #333; color: #fff; padding: 4px 8px; border-radius: 4px;">>npm start</kbd> previamente habiendo cambiado la ip en el archivo package.json la direccion ip del host con la de nuestra maquina. Ten en cuenta que al utilizar docker, no se podra acceder desde un dispositivo movil, si desde el ordenador. Se deja constancia para una futura investigacion y posible solucion.
### Sin Docker
Para la ejecucion sin el entorno de docker, se debera colocar la direccion IP de la red a la cual nos encontramos conectados, en el archivo ENV.ts que se encuentra en la carpeta ..\2023-A5-OTTO-COAP\Otto-CoAP-Angular\src y en package.json, colocando en el script "start" la ip para host y ejecutar la interfaz web, en la carpeta Otto-CoAP-Angular el comando<kbd style="background-color: #333; color: #fff; padding: 4px 8px; border-radius: 4px;">>npm start</kbd>. En los archivos ws-proxy.js, de la carpeta WebSocket-proxy y en coap_server.py. Por ultimo, se debera de ejecutar tanto en la carpeta del websocket el comando <kbd style="background-color: #333; color: #fff; padding: 4px 8px; border-radius: 4px;">node ws-proxy.js</kbd>, como en la carpeta del coap-server el comando <kbd style="background-color: #333; color: #fff; padding: 4px 8px; border-radius: 4px;">python coap_server.py</kbd> por consola
